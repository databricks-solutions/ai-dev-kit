test_cases:
  # Single-skill routing - Spark Declarative Pipelines
  - id: "routing_sdp_001"
    inputs:
      prompt: "Create a streaming table for ingesting JSON events"
    expectations:
      expected_skills: ["spark-declarative-pipelines"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "easy"
      reasoning: "Mentions 'streaming table' - clear SDP trigger"

  - id: "routing_sdp_002"
    inputs:
      prompt: "Build a bronze-silver-gold medallion architecture for customer data"
    expectations:
      expected_skills: ["spark-declarative-pipelines"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "easy"
      reasoning: "Mentions 'medallion', 'bronze', 'silver', 'gold' - SDP patterns"

  - id: "routing_sdp_003"
    inputs:
      prompt: "Implement CDC with SCD Type 2 for tracking customer changes"
    expectations:
      expected_skills: ["spark-declarative-pipelines"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "medium"
      reasoning: "Mentions 'CDC' and 'SCD' - SDP features"

  # Single-skill routing - Python SDK
  - id: "routing_sdk_001"
    inputs:
      prompt: "How do I list clusters using the Python SDK?"
    expectations:
      expected_skills: ["databricks-python-sdk"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "easy"
      reasoning: "Explicitly mentions 'Python SDK'"

  - id: "routing_sdk_002"
    inputs:
      prompt: "Use WorkspaceClient to create a new notebook"
    expectations:
      expected_skills: ["databricks-python-sdk"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "easy"
      reasoning: "Mentions 'WorkspaceClient' - SDK class"

  # Single-skill routing - Asset Bundles
  - id: "routing_dabs_001"
    inputs:
      prompt: "Create a databricks asset bundle for deploying my pipeline"
    expectations:
      expected_skills: ["asset-bundles"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "easy"
      reasoning: "Explicitly mentions 'databricks asset bundle'"

  # Single-skill routing - MLflow Evaluation
  - id: "routing_mlflow_001"
    inputs:
      prompt: "How do I evaluate my agent using mlflow genai.evaluate?"
    expectations:
      expected_skills: ["mlflow-evaluation"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "easy"
      reasoning: "Mentions 'genai.evaluate' - MLflow evaluation trigger"

  # Single-skill routing - UC FGAC Governance
  - id: "routing_fgac_001"
    inputs:
      prompt: "Create an FGAC column mask policy for SSN columns"
    expectations:
      expected_skills: ["databricks-unity-catalog"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "easy"
      reasoning: "Mentions 'FGAC' and 'column mask policy' - UC FGAC governance"

  - id: "routing_fgac_002"
    inputs:
      prompt: "How do I apply governed tags to columns for PII classification?"
    expectations:
      expected_skills: ["databricks-unity-catalog"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "easy"
      reasoning: "Mentions 'governed tags' and 'PII classification' - UC FGAC governance"

  - id: "routing_fgac_003"
    inputs:
      prompt: "Write a masking UDF that hides email addresses and bind it to a policy"
    expectations:
      expected_skills: ["databricks-unity-catalog"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "medium"
      reasoning: "Mentions 'masking UDF' and 'policy' - UC FGAC governance"

  - id: "routing_fgac_004"
    inputs:
      prompt: "List all FGAC policies on my catalog using the Python SDK"
    expectations:
      expected_skills: ["databricks-unity-catalog"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "medium"
      reasoning: "Mentions 'FGAC policies' - UC FGAC governance over generic SDK skill"

  - id: "routing_fgac_005"
    inputs:
      prompt: "Create a row filter policy to hide EU data from the US team"
    expectations:
      expected_skills: ["databricks-unity-catalog"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "easy"
      reasoning: "Mentions 'row filter policy' - UC FGAC governance"

  - id: "routing_fgac_006"
    inputs:
      prompt: "How do I use CREATE POLICY with hasTagValue to mask credit card columns?"
    expectations:
      expected_skills: ["databricks-unity-catalog"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "medium"
      reasoning: "Mentions 'CREATE POLICY' and 'hasTagValue' - UC FGAC governance"

  # Multi-skill routing
  - id: "routing_multi_001"
    inputs:
      prompt: "Create a data pipeline with streaming tables and deploy it using DABs"
    expectations:
      expected_skills:
        - "spark-declarative-pipelines"
        - "asset-bundles"
      is_multi_skill: true
    metadata:
      category: "multi_skill"
      difficulty: "medium"
      reasoning: "Combines 'streaming tables' (SDP) with 'DABs' (asset bundles)"

  - id: "routing_multi_002"
    inputs:
      prompt: "Generate synthetic customer data and evaluate the agent quality with MLflow scorers"
    expectations:
      expected_skills:
        - "synthetic-data-generation"
        - "mlflow-evaluation"
      is_multi_skill: true
    metadata:
      category: "multi_skill"
      difficulty: "medium"
      reasoning: "Combines 'synthetic data' with 'MLflow scorers'"

  - id: "routing_multi_003"
    inputs:
      prompt: "Build a medallion architecture with bronze ingestion and create a Genie space for SQL exploration"
    expectations:
      expected_skills:
        - "spark-declarative-pipelines"
        - "agent-bricks"
      is_multi_skill: true
    metadata:
      category: "multi_skill"
      difficulty: "hard"
      reasoning: "Combines 'medallion' (SDP) with 'Genie space' (agent-bricks)"

  - id: "routing_multi_004"
    inputs:
      prompt: "Set up FGAC policies for PII masking and query the audit logs to verify who accessed the masked columns"
    expectations:
      expected_skills: ["databricks-unity-catalog"]
      is_multi_skill: false
    metadata:
      category: "single_skill"
      difficulty: "hard"
      reasoning: "Both FGAC policies and audit logs are in databricks-unity-catalog"

  # No skill match
  - id: "routing_no_match_001"
    inputs:
      prompt: "What is the weather like today?"
    expectations:
      expected_skills: []
      is_multi_skill: false
    metadata:
      category: "no_match"
      difficulty: "easy"
      reasoning: "General question, no Databricks skill should match"

  - id: "routing_no_match_002"
    inputs:
      prompt: "Explain how neural networks work"
    expectations:
      expected_skills: []
      is_multi_skill: false
    metadata:
      category: "no_match"
      difficulty: "easy"
      reasoning: "ML theory question, not specific to any Databricks skill"
