skill_name: databricks-dbsql
description: 'Databricks SQL (DBSQL) advanced features and SQL warehouse capabilities. This skill MUST be invoked when the
  user mentions: "DBSQL", "Databricks SQL", "SQL warehouse", "SQL scripting", "stored procedure", "CALL procedure", "materialized
  view", "CREATE MATERIALIZED VIEW", "pipe syntax", "|>", "geospatial", "H3", "ST_", "spatial SQL", "collation", "COLLATE",
  "ai_query", "ai_classify", "ai_extract", "ai_gen", "AI function", "http_request", "remote_query", "read_files", "Lakehouse
  Federation", "recursive CTE", "WITH RECURSIVE", "multi-statement transaction", "temp table", "temporary view", "pipe operator".
  SHOULD also invoke when the user asks about SQL best practices, data modeling patterns, or advanced SQL features on Databricks.'
scorers:
  enabled:
  - sql_syntax
  - pattern_adherence
  - no_hallucinated_apis
  - expected_facts_present
  llm_scorers:
  - Safety
  - guidelines_from_expectations
  default_guidelines:
  - Response must address the user's request completely
  - Code examples must follow documented best practices
  - Response must use modern APIs (not deprecated ones)
  trace_expectations:
    tool_limits:
      Bash: 10
      Read: 20
    token_budget:
      max_total: 100000
    required_tools:
    - Read
    banned_tools: []
    expected_files: []
quality_gates:
  syntax_valid: 1.0
  pattern_adherence: 0.9
  execution_success: 0.8
